<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"> <html> <head> <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7"> <meta http-equiv="Content-Type" content="text/html; charset=gb2312"> <script type="text/javascript" src="dialog.js?v=15.3"> </script> <script type="text/javascript"> document.write("<link href='../skin/"+config.Skin+"/dialog.css?v="+EWEB.V+"' type='text/css' rel='stylesheet'>");var ge=false;var et="file";var cu=((parseFloat(config.AllowImageSize)>0)?true:false);var bx=dP.$("d_image").value;var bm=lang["DlgImage1"];document.write("<title>"+bm+"</title>");function aq(){lang.ag(document);$("d_fromurl").value=bx;if(bx){et="url";}if((!cu)&&(et=="file")){et="url";}bP(et);parent.ar(bm);if(cu&&document.documentMode==5){var vt=(et=="url")?false:true;$("uploadfile").disabled=vt;$("uploadfile").disabled= !vt;}};function bP(an){switch(an){case "url":$("d_checkfromurl").checked=true;$("d_fromurl").disabled=false;if(config.AllowBrowse=="1"){$("d_browse").disabled=false;}if(cu){$("d_checkfromfile").checked=false;$("uploadfile").disabled=true;}break;case "file":$("d_checkfromurl").checked=false;$("d_fromurl").disabled=true;if(config.AllowBrowse=="1"){$("d_browse").disabled=true;}if(cu){$("d_checkfromfile").checked=true;$("uploadfile").disabled=false;}break;}};function zL(an){he(false);bP('file');bB.Hide();ge=false;try{bX($("uploadfile"),md(an,config.AllowImageExt,config.AllowImageSize));}catch(e){}};function eH(){bx=$("d_fromurl").value;dP.$("d_image").value=bx;parent.bV();};function ok(){if($("d_checkfromurl").checked){eH();return;}if(!cu){return;}if($("d_checkfromfile").checked){if(!iV($("uploadfile").value,config.AllowImageExt)){zL("ext");return false;}if($("uploadfile").files){var bU=$("uploadfile").files[0];if(bU.size>parseInt(config.AllowImageSize)*1024){zL("size");return false;}he(true);bB.Show();ge=true;eG.oR(bU,{"filetype":"image","sy":""},function(eC){if(eC["state"]=="ok"){var gI=eC["url"];$("d_fromurl").value=gI;eH();}else{zL(eC["errflag"]);return;}});}else{}}};function Lo(){if(ge){eG.wb();}parent.Cancel(true);};function he(b){$("d_checkfromfile").disabled=b;$("d_checkfromurl").disabled=b;if(config.AllowBrowse=="1"){$("d_browse").disabled=b;}$("d_fromurl").disabled=b;$("d_ok").disabled=b;zJ("d_ok",b);} </script> </head> <body onload="aq()"> <table border=0 cellpadding=0 cellspacing=5 id=tabDialogSize><tr><td> <table border=0 cellpadding=0 cellspacing=0 align=center> <tr> <td> <fieldset> <legend><span lang=DlgBkImgSource></span></legend> <table border=0 cellpadding=5 cellspacing=0 width="100%"> <tr><td> <table border=0 cellpadding=0 cellspacing=0 width="300px"><tr><td></td></tr></table> <table border=0 cellpadding=0 cellspacing=2 width="100%"> <script type="text/javascript"> if(cu){document.write("<tr>");document.write("<td noWrap width=\"20%\"><input type=radio id=\"d_checkfromfile\" value=\"1\" onclick=\"bP('file')\"><label for=d_checkfromfile>"+lang["DlgFromFile"]+"</label>:</td>");document.write("<td noWrap width=\"80%\" colspan=2>");document.write(lN("image"));document.write("</td>");document.write("</tr>");} </script> <tr> <td width="20%" noWrap><input type=radio id="d_checkfromurl" onclick="bP('url')"><label for=d_checkfromurl><span lang=DlgFromUrl></span></label>:</td> <td width="80%" noWrap colspan=2> <script type="text/javascript"> if(config.AllowBrowse=="1"){document.write("<table border=0 cellpadding=0 cellspacing=0 width='100%'><tr><td width='100%'><input type=text id='d_fromurl' style='width:100%' size=30 value=''></td><td><input class='dlgBtnBrowse' type=button id='d_browse' onclick=\"nf('image','fromurl')\" value='"+lang["DlgBtnBrowse"]+"' align=absmiddle></td></tr></table>");}else{document.write("<input type=text id='d_fromurl' style='width:100%' size=30 value=''>");} </script> </td> </tr> </table> </td></tr> </table> </fieldset> </td> </tr> <tr><td height=5></td></tr> <tr><td noWrap align=right><input type=submit class="dlgBtnCommon dlgBtn" value='' id="d_ok" onclick="ok()" lang=DlgBtnOK>&nbsp;&nbsp;<input type=button class="dlgBtnCommon dlgBtn" value='' onclick="Lo()" lang=DlgBtnCancel></td></tr> </table> </td></tr></table> <script type="text/javascript"> bB.OutHtml(lang["DlgComUploading"]); </script> </body> </html>